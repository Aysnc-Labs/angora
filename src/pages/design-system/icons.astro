---
import Layout from './_layout/Layout.astro';
import ArrowRight from '@/icons/ArrowRight.astro';
import Close from '@/icons/Close.astro';
---

<Layout title="Icons" description="Inline SVG icons using currentColor. Each icon is an Astro component with a size prop. Copy the raw SVG from the gallery.">

  <!-- Icon Gallery -->
  <section class="specimen-section">
    <h2>Gallery</h2>
    <p class="text-sm text-muted-foreground mb-6 max-w-[65ch]">
      Each icon renders as inline SVG with <code class="text-xs bg-muted px-1.5 py-0.5 rounded-sm font-mono">stroke="currentColor"</code>, so it inherits the parent's text color. Default size is <code class="text-xs bg-muted px-1.5 py-0.5 rounded-sm font-mono">24px</code>.
    </p>
    <div class="border border-border rounded-lg p-8 max-sm:p-4">
      <div class="grid grid-cols-[repeat(auto-fill,minmax(180px,1fr))] grid-gap">
        <div class="flex items-center gap-4" data-icon-entry>
          <div class="w-12 h-12 flex items-center justify-center bg-muted rounded-lg">
            <ArrowRight />
          </div>
          <div>
            <p class="text-sm font-medium text-foreground">ArrowRight</p>
            <button data-copy-svg class="text-xs text-primary hover:text-primary-hover cursor-pointer">Copy SVG</button>
          </div>
        </div>
        <div class="flex items-center gap-4" data-icon-entry>
          <div class="w-12 h-12 flex items-center justify-center bg-muted rounded-lg">
            <Close />
          </div>
          <div>
            <p class="text-sm font-medium text-foreground">Close</p>
            <button data-copy-svg class="text-xs text-primary hover:text-primary-hover cursor-pointer">Copy SVG</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sizes -->
  <section class="specimen-section">
    <h2>Sizes</h2>
    <p class="text-sm text-muted-foreground mb-6 max-w-[65ch]">
      Pass a <code class="text-xs bg-muted px-1.5 py-0.5 rounded-sm font-mono">size</code> prop to scale. Icons are designed on a 24px grid — smaller sizes work well down to 16px, larger sizes up to 32px.
    </p>
    <div class="border border-border rounded-lg overflow-x-auto">
      <table class="w-full">
        <thead>
          <tr class="border-b border-border bg-muted">
            <th class="text-left py-3 px-3 sm:px-6 text-xs font-semibold text-muted-foreground uppercase tracking-wide">Size</th>
            <th class="text-center py-3 px-3 sm:px-6 text-xs font-semibold text-muted-foreground uppercase tracking-wide">ArrowRight</th>
            <th class="text-center py-3 px-3 sm:px-6 text-xs font-semibold text-muted-foreground uppercase tracking-wide">Close</th>
            <th class="text-left py-3 px-3 sm:px-6 text-xs font-semibold text-muted-foreground uppercase tracking-wide">Use case</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-b border-border">
            <td class="py-4 px-3 sm:px-6 font-mono text-xs text-muted-foreground">16px</td>
            <td class="py-4 px-3 sm:px-6 text-center"><ArrowRight size={16} /></td>
            <td class="py-4 px-3 sm:px-6 text-center"><Close size={16} /></td>
            <td class="py-4 px-3 sm:px-6 text-sm text-muted-foreground">Small buttons, inline text, badges</td>
          </tr>
          <tr class="border-b border-border">
            <td class="py-4 px-3 sm:px-6 font-mono text-xs text-muted-foreground">20px</td>
            <td class="py-4 px-3 sm:px-6 text-center"><ArrowRight size={20} /></td>
            <td class="py-4 px-3 sm:px-6 text-center"><Close size={20} /></td>
            <td class="py-4 px-3 sm:px-6 text-sm text-muted-foreground">Default buttons, form elements, nav items</td>
          </tr>
          <tr class="border-b border-border">
            <td class="py-4 px-3 sm:px-6 font-mono text-xs text-muted-foreground">24px</td>
            <td class="py-4 px-3 sm:px-6 text-center"><ArrowRight size={24} /></td>
            <td class="py-4 px-3 sm:px-6 text-center"><Close size={24} /></td>
            <td class="py-4 px-3 sm:px-6 text-sm text-muted-foreground">Default (standalone), large buttons, headings</td>
          </tr>
          <tr>
            <td class="py-4 px-3 sm:px-6 font-mono text-xs text-muted-foreground">32px</td>
            <td class="py-4 px-3 sm:px-6 text-center"><ArrowRight size={32} /></td>
            <td class="py-4 px-3 sm:px-6 text-center"><Close size={32} /></td>
            <td class="py-4 px-3 sm:px-6 text-sm text-muted-foreground">Feature icons, hero accents, empty states</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Color Inheritance -->
  <section class="specimen-section">
    <h2>Color Inheritance</h2>
    <p class="text-sm text-muted-foreground mb-6 max-w-[65ch]">
      Icons use <code class="text-xs bg-muted px-1.5 py-0.5 rounded-sm font-mono">currentColor</code> for stroke — set the parent's <code class="text-xs bg-muted px-1.5 py-0.5 rounded-sm font-mono">color</code> via Tailwind text color classes. No separate icon color prop needed.
    </p>
    <div class="border border-border rounded-lg p-8">
      <div class="flex flex-wrap gap-8 items-center">
        <div class="flex flex-col items-center gap-3 text-foreground">
          <ArrowRight size={28} />
          <span class="text-xs font-mono text-muted-foreground">foreground</span>
        </div>
        <div class="flex flex-col items-center gap-3 text-muted-foreground">
          <ArrowRight size={28} />
          <span class="text-xs font-mono text-muted-foreground">muted-foreground</span>
        </div>
        <div class="flex flex-col items-center gap-3 text-muted-foreground">
          <ArrowRight size={28} />
          <span class="text-xs font-mono text-muted-foreground">muted-foreground</span>
        </div>
        <div class="flex flex-col items-center gap-3 text-primary">
          <ArrowRight size={28} />
          <span class="text-xs font-mono text-muted-foreground">primary</span>
        </div>
        <div class="flex flex-col items-center gap-3 text-destructive">
          <ArrowRight size={28} />
          <span class="text-xs font-mono text-muted-foreground">destructive</span>
        </div>
        <div class="flex flex-col items-center gap-3 text-success">
          <ArrowRight size={28} />
          <span class="text-xs font-mono text-muted-foreground">success</span>
        </div>
      </div>
    </div>
  </section>

  <!-- On Backgrounds -->
  <section class="specimen-section">
    <h2>On Backgrounds</h2>
    <p class="text-sm text-muted-foreground mb-6 max-w-[65ch]">
      Enclose icons in a shape with a background color when used as standalone visual elements (features, empty states). Don't scale raw icons beyond 32px — use a container instead.
    </p>
    <div class="border border-border rounded-lg p-8">
      <div class="flex flex-wrap gap-6 items-center">
        <div class="flex flex-col items-center gap-3">
          <div class="w-10 h-10 flex items-center justify-center bg-primary/10 text-primary rounded-lg">
            <ArrowRight size={20} />
          </div>
          <span class="text-xs font-mono text-muted-foreground">tinted bg</span>
        </div>
        <div class="flex flex-col items-center gap-3">
          <div class="w-10 h-10 flex items-center justify-center bg-primary text-primary-foreground rounded-lg">
            <ArrowRight size={20} />
          </div>
          <span class="text-xs font-mono text-muted-foreground">solid bg</span>
        </div>
        <div class="flex flex-col items-center gap-3">
          <div class="w-10 h-10 flex items-center justify-center bg-muted text-muted-foreground rounded-full">
            <Close size={20} />
          </div>
          <span class="text-xs font-mono text-muted-foreground">circle</span>
        </div>
        <div class="flex flex-col items-center gap-3">
          <div class="w-12 h-12 flex items-center justify-center bg-foreground text-primary-foreground rounded-lg">
            <ArrowRight size={24} />
          </div>
          <span class="text-xs font-mono text-muted-foreground">dark lg</span>
        </div>
        <div class="flex flex-col items-center gap-3">
          <div class="w-14 h-14 flex items-center justify-center bg-primary/10 text-primary rounded-xl">
            <ArrowRight size={28} />
          </div>
          <span class="text-xs font-mono text-muted-foreground">feature xl</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Usage with Text -->
  <section class="specimen-section">
    <h2>Inline with Text</h2>
    <p class="text-sm text-muted-foreground mb-6 max-w-[65ch]">
      Icons pair with text at matching sizes. Use <code class="text-xs bg-muted px-1.5 py-0.5 rounded-sm font-mono">inline-flex items-center gap-2</code> for alignment.
    </p>
    <div class="border border-border rounded-lg p-8">
      <div class="flex flex-col gap-6">
        <div class="flex flex-wrap gap-8 items-center">
          <span class="inline-flex items-center gap-1.5 text-sm text-muted-foreground">
            <ArrowRight size={14} /> <span>Small link</span>
          </span>
          <span class="inline-flex items-center gap-2 text-base text-foreground">
            <ArrowRight size={16} /> <span>Body text</span>
          </span>
          <span class="inline-flex items-center gap-2 text-lg font-semibold text-foreground">
            <ArrowRight size={20} /> <span>Heading text</span>
          </span>
        </div>
        <div class="flex flex-wrap gap-8 items-center">
          <span class="inline-flex items-center gap-1.5 text-sm text-destructive">
            <Close size={14} /> <span>Remove item</span>
          </span>
          <span class="inline-flex items-center gap-2 text-sm text-muted-foreground">
            <span>Next page</span> <ArrowRight size={14} />
          </span>
          <span class="inline-flex items-center gap-2 text-sm text-primary">
            <span>Learn more</span> <ArrowRight size={14} />
          </span>
        </div>
      </div>
    </div>
  </section>

  <script>
    document.querySelectorAll('[data-copy-svg]').forEach((btn) => {
      btn.addEventListener('click', async () => {
        const entry = btn.closest('[data-icon-entry]');
        const svg = entry?.querySelector('svg');
        if (!svg) return;
        await navigator.clipboard.writeText(svg.outerHTML);
        const original = btn.textContent;
        btn.textContent = 'Copied!';
        setTimeout(() => { btn.textContent = original; }, 1500);
      });
    });
  </script>

</Layout>