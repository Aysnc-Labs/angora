---
interface Props {
  size?: 'sm' | 'md' | 'lg';
  checked?: boolean;
  label?: string;
  name?: string;
  value?: string;
  disabled?: boolean;
}

const { size = 'md', checked, label, name, value, disabled } = Astro.props;

const sizeMap: Record<string, { outer: string; inner: string; text: string }> = {
  sm: { outer: 'w-4 h-4', inner: 'w-1.5 h-1.5', text: 'text-sm' },
  md: { outer: 'w-5 h-5', inner: 'w-2 h-2', text: 'text-base' },
  lg: { outer: 'w-6 h-6', inner: 'w-2.5 h-2.5', text: 'text-lg' },
};

const s = sizeMap[size];
---

<label data-component="Radio" class={`group inline-flex items-center gap-2 ${disabled ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}>
  <span class={`relative inline-flex items-center justify-center ${s.outer} shrink-0`}>
    <input
      type="radio"
      class="sr-only peer"
      checked={checked}
      disabled={disabled}
      name={name}
      value={value}
    />
    <span class={`absolute inset-0 rounded-full border-2 border-gray-300 bg-white group-hover:border-gray-400 peer-checked:border-primary-500 group-hover:peer-checked:border-primary-600 peer-focus-visible:outline-2 peer-focus-visible:outline-primary-300 peer-focus-visible:outline-offset-2 transition-colors duration-fast ease-default`}></span>
    <span class={`relative ${s.inner} rounded-full bg-primary-500 opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity duration-fast ease-default`}></span>
  </span>
  {label && <span class={`${s.text} text-gray-900`}>{label}</span>}
</label>
